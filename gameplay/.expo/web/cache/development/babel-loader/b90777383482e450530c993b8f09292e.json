{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/nailtonjunior/rock/gameplay/src/screens/AppointmentCreate/index.tsx\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { RectButton } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from '@react-navigation/native';\nimport uuid from 'react-native-uuid';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { COLLECTION_APPOINTMENTS } from \"../../configs/database\";\nimport { theme } from \"../../global/styles/theme\";\nimport { styles } from \"./styles\";\nimport { CategorySelect } from \"../../components/CategorySelect\";\nimport { ModalView } from \"../../components/ModalView\";\nimport { Background } from \"../../components/Background\";\nimport { SmallInput } from \"../../components/SmallInput\";\nimport { GuildIcon } from \"../../components/GuildIcon\";\nimport { TextArea } from \"../../components/TextArea\";\nimport { Header } from \"../../components/Header\";\nimport { Button } from \"../../components/Button\";\nimport { Guilds } from \"../Guilds\";\nexport function AppointmentCreate() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      category = _useState2[0],\n      setCategory = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openGuildsModa = _useState4[0],\n      setOpenGuildsModal = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      guild = _useState6[0],\n      setGuild = _useState6[1];\n\n  var navigation = useNavigation();\n\n  function handleOpenGuilds() {\n    setOpenGuildsModal(true);\n  }\n\n  function handleCloseGuilds() {\n    setOpenGuildsModal(false);\n  }\n\n  function handleGuildSelect(guildSelect) {\n    setGuild(guildSelect);\n    setOpenGuildsModal(false);\n  }\n\n  function handleCategorySelect(categoryId) {\n    setCategory(categoryId);\n  }\n\n  function handleSave() {\n    var newAppointment, storage, appointments;\n    return _regeneratorRuntime.async(function handleSave$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            newAppointment = {\n              id: uuid.v4(),\n              guild: guild,\n              category: category,\n              date: day + \"/\" + month + \" \\xE0s \" + hour + \":\" + minute + \"h\",\n              description: description\n            };\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(COLLECTION_APPOINTMENTS));\n\n          case 3:\n            storage = _context.sent;\n            appointments = storage ? JSON.parse(storage) : [];\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(COLLECTION_APPOINTMENTS, JSON.stringify([].concat(_toConsumableArray(appointments), [newAppointment]))));\n\n          case 7:\n            navigation.navigate('Home');\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, React.createElement(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, React.createElement(Header, {\n    title: \"Agendar partida\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: [styles.label, {\n      marginLeft: 24,\n      marginTop: 36,\n      marginBottom: 18\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Categoria\"), React.createElement(CategorySelect, {\n    hasCheckBox: true,\n    setCategory: handleCategorySelect,\n    categorySelected: category,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: styles.form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, React.createElement(RectButton, {\n    onPress: handleOpenGuilds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.select,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, guild.icon ? React.createElement(GuildIcon, {\n    guildId: guild.id,\n    iconId: guild.icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }) : React.createElement(View, {\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.selectBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, guild.name ? guild.name : 'Selecione um servidor')), React.createElement(Feather, {\n    name: \"chevron-right\",\n    color: theme.colors.heading,\n    size: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }))), React.createElement(View, {\n    style: styles.field,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [styles.label, {\n      marginBottom: 12\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"Dia e m\\xEAs\"), React.createElement(View, {\n    style: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, React.createElement(SmallInput, {\n    maxLength: 2,\n    onChangeText: setDay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }), React.createElement(Text, {\n    style: styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, \"/\"), React.createElement(SmallInput, {\n    maxLength: 2,\n    onChangeText: setMonth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }))), React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [styles.label, {\n      marginBottom: 12\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }, \"Hora e minuto\"), React.createElement(View, {\n    style: styles.column,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, React.createElement(SmallInput, {\n    maxLength: 2,\n    onChangeText: setHour,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }), React.createElement(Text, {\n    style: styles.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \":\"), React.createElement(SmallInput, {\n    maxLength: 2,\n    onChangeText: setMinute,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 19\n    }\n  })))), React.createElement(View, {\n    style: [styles.field, {\n      marginBottom: 12\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, \"Descri\\xE7\\xE3o\"), React.createElement(Text, {\n    style: styles.caracteresLimit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, \"Max 100 caracteres\")), React.createElement(TextArea, {\n    multiline: true,\n    maxLength: 100,\n    numberOfLines: 5,\n    autoCorrect: false,\n    onChangeText: setDescription,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"Agendar\",\n    onPress: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }))))), React.createElement(ModalView, {\n    visible: openGuildsModa,\n    closeModal: handleCloseGuilds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, React.createElement(Guilds, {\n    handleGuildSelect: handleGuildSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/home/nailtonjunior/rock/gameplay/src/screens/AppointmentCreate/index.tsx"],"names":["React","useState","Feather","RectButton","AsyncStorage","useNavigation","uuid","COLLECTION_APPOINTMENTS","theme","styles","CategorySelect","ModalView","Background","SmallInput","GuildIcon","TextArea","Header","Button","Guilds","AppointmentCreate","category","setCategory","openGuildsModa","setOpenGuildsModal","guild","setGuild","navigation","handleOpenGuilds","handleCloseGuilds","handleGuildSelect","guildSelect","handleCategorySelect","categoryId","handleSave","newAppointment","id","v4","date","day","month","hour","minute","description","getItem","storage","appointments","JSON","parse","setItem","stringify","navigate","Platform","OS","container","label","marginLeft","marginTop","marginBottom","form","select","icon","image","selectBody","name","colors","heading","field","column","setDay","divider","setMonth","setHour","setMinute","caracteresLimit","setDescription","footer"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Feather } from '@expo/vector-icons';\nimport { RectButton } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useNavigation } from '@react-navigation/native';\nimport uuid from 'react-native-uuid';\n\nimport {\n  Text,\n  View,\n  Platform,\n  ScrollView,\n  KeyboardAvoidingView,\n} from 'react-native';\n\nimport { COLLECTION_APPOINTMENTS } from '../../configs/database';\nimport { theme } from '../../global/styles/theme';\nimport { styles } from './styles';\n\nimport { CategorySelect } from '../../components/CategorySelect';\nimport { ModalView } from '../../components/ModalView';\nimport { Background } from '../../components/Background';\nimport { SmallInput } from '../../components/SmallInput';\nimport { GuildIcon } from '../../components/GuildIcon';\nimport { TextArea } from '../../components/TextArea';\nimport { GuildProps } from '../../components/Guild';\nimport { Header } from '../../components/Header';\nimport { Button } from '../../components/Button';\nimport { Guilds } from '../Guilds';\n\n\nexport function AppointmentCreate(){\n  const [category, setCategory] = useState('');\n  const [openGuildsModa, setOpenGuildsModal] = useState(false);\n  const [guild, setGuild] = useState<GuildProps>({} as GuildProps);\n\n  const navigation = useNavigation();\n\n  function handleOpenGuilds(){\n    setOpenGuildsModal(true);\n  }\n\n  function handleCloseGuilds(){\n    setOpenGuildsModal(false);\n  }\n\n  function handleGuildSelect(guildSelect: GuildProps){\n    setGuild(guildSelect);\n    setOpenGuildsModal(false);\n  }\n\n  function handleCategorySelect(categoryId: string) {\n    setCategory(categoryId);\n  } \n\n  async function handleSave() {\n    const newAppointment = {\n      id: uuid.v4(),\n      guild,\n      category,\n      date: `${day}/${month} às ${hour}:${minute}h`,\n      description\n    };\n\n    const storage = await AsyncStorage.getItem(COLLECTION_APPOINTMENTS);\n    const appointments = storage ? JSON.parse(storage) : [];\n\n    await AsyncStorage.setItem(\n      COLLECTION_APPOINTMENTS,\n      JSON.stringify([...appointments, newAppointment])\n    );\n\n    navigation.navigate('Home');    \n  }\n\n  return (\n    <KeyboardAvoidingView \n      behavior={Platform.OS === 'ios' ? 'padding' : 'height' }\n      style={styles.container}\n    >\n      <Background>\n        <ScrollView>  \n          <Header \n            title=\"Agendar partida\"\n          />\n\n          <Text style={[\n            styles.label, \n            { marginLeft: 24, marginTop: 36, marginBottom: 18 }]}\n          >\n            Categoria\n          </Text>\n\n          <CategorySelect \n            hasCheckBox\n            setCategory={handleCategorySelect}\n            categorySelected={category}\n          />\n\n          <View style={styles.form}>\n            <RectButton onPress={handleOpenGuilds}>\n              <View style={styles.select}>\n                {\n                  guild.icon \n                  ? <GuildIcon guildId={guild.id} iconId={guild.icon} /> \n                  : <View style={styles.image} />\n                }\n\n                <View style={styles.selectBody}>\n                  <Text style={styles.label}>\n                    { \n                      guild.name \n                      ? guild.name \n                      : 'Selecione um servidor' \n                    }\n                  </Text>\n                </View>\n\n                <Feather \n                  name=\"chevron-right\"\n                  color={theme.colors.heading}\n                  size={18}\n                />\n              </View>\n            </RectButton>\n            \n            <View style={styles.field}>\n              <View>\n                <Text style={[styles.label, { marginBottom: 12 } ]}>\n                  Dia e mês\n                </Text>\n\n                <View style={styles.column}>\n                  <SmallInput \n                    maxLength={2} \n                    onChangeText={setDay}\n                  />\n                  <Text style={styles.divider}>\n                    /\n                  </Text>\n                  <SmallInput \n                    maxLength={2} \n                    onChangeText={setMonth}\n                  />\n                </View>\n              </View>\n\n              <View>\n                <Text style={[styles.label, { marginBottom: 12 } ]}>\n                  Hora e minuto\n                </Text>\n\n                <View style={styles.column}>\n                  <SmallInput \n                    maxLength={2} \n                    onChangeText={setHour}\n                  />\n                  <Text style={styles.divider}>\n                    :\n                  </Text>\n                  <SmallInput \n                    maxLength={2} \n                    onChangeText={setMinute}\n                  />\n                </View>\n              </View>           \n            </View>\n\n            <View style={[styles.field, { marginBottom: 12 }]}>\n              <Text style={styles.label}>\n                Descrição\n              </Text>\n\n              <Text style={styles.caracteresLimit}>\n                Max 100 caracteres\n              </Text>\n            </View>\n\n            <TextArea \n              multiline\n              maxLength={100}\n              numberOfLines={5}\n              autoCorrect={false}\n              onChangeText={setDescription}\n            />\n\n            <View style={styles.footer}>\n              <Button \n                title=\"Agendar\" \n                onPress={handleSave}\n              />\n            </View>\n          </View>\n        </ScrollView>\n      </Background>\n\n      <ModalView visible={openGuildsModa} closeModal={handleCloseGuilds}>\n        <Guilds handleGuildSelect={handleGuildSelect}/>\n      </ModalView>\n      \n    </KeyboardAvoidingView>\n  );\n}"]},"metadata":{},"sourceType":"module"}