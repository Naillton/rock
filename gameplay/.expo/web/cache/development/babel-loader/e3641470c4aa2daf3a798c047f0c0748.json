{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/nailtonjunior/rock/gameplay/src/screens/AppointmentDetails/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Fontisto } from '@expo/vector-icons';\nimport { useRoute } from '@react-navigation/native';\nimport { BorderlessButton } from 'react-native-gesture-handler';\nimport * as Linking from 'expo-linking';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport BannerImg from \"../../assets/banner.png\";\nimport { styles } from \"./styles\";\nimport { theme } from \"../../global/styles/theme\";\nimport { ListDivider } from \"../../components/ListDivider\";\nimport { Background } from \"../../components/Background\";\nimport { ListHeader } from \"../../components/ListHeader\";\nimport { ButtonIcon } from \"../../components/ButtonIcon\";\nimport { Member } from \"../../components/Member\";\nimport { Header } from \"../../components/Header\";\nimport { Load } from \"../../components/Load\";\nexport function AppointmentDetails() {\n  var _this = this;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      widget = _useState2[0],\n      setWidget = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var route = useRoute();\n  var _ref = route.params,\n      guildSelected = _ref.guildSelected;\n\n  function handleShareInvitation() {\n    var message = Platform.OS === 'ios' ? \"Junte-se a \" + guildSelected.guild.name : widget.instant_invite;\n    Share.share({\n      message: message,\n      url: widget.instant_invite\n    });\n  }\n\n  function handleOpenGuild() {\n    Linking.openURL(widget.instant_invite);\n  }\n\n  useEffect(function () {\n    fetchGuildWidget();\n  }, []);\n  return React.createElement(Background, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    title: \"Detalhes\",\n    action: guildSelected.guild.owner && React.createElement(BorderlessButton, {\n      onPress: handleShareInvitation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, React.createElement(Fontisto, {\n      name: \"share\",\n      size: 24,\n      color: theme.colors.primary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), React.createElement(ImageBackground, {\n    source: BannerImg,\n    style: styles.banner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.bannerContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, guildSelected.guild.name), React.createElement(Text, {\n    style: styles.subtitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, guildSelected.description))), loading ? React.createElement(Load, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }) : React.createElement(React.Fragment, null, React.createElement(ListHeader, {\n    title: \"Jogadores\",\n    subtitle: \"Total \" + widget.members.length,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), React.createElement(FlatList, {\n    data: widget.members,\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(Member, {\n        data: item,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }\n      });\n    },\n    ItemSeparatorComponent: function ItemSeparatorComponent() {\n      return React.createElement(ListDivider, {\n        isCentered: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 43\n        }\n      });\n    },\n    style: styles.members,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  })), guildSelected.guild.owner && React.createElement(View, {\n    style: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, React.createElement(ButtonIcon, {\n    title: \"Entrar na partida\",\n    onPress: handleOpenGuild,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["/home/nailtonjunior/rock/gameplay/src/screens/AppointmentDetails/index.tsx"],"names":["React","useState","useEffect","Fontisto","useRoute","BorderlessButton","Linking","BannerImg","styles","theme","ListDivider","Background","ListHeader","ButtonIcon","Member","Header","Load","AppointmentDetails","widget","setWidget","loading","setLoading","route","params","guildSelected","handleShareInvitation","message","Platform","OS","guild","name","instant_invite","Share","share","url","handleOpenGuild","openURL","fetchGuildWidget","owner","colors","primary","banner","bannerContent","title","subtitle","description","members","length","item","id","footer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Fontisto } from '@expo/vector-icons';\nimport { useRoute } from '@react-navigation/native';\nimport { BorderlessButton } from 'react-native-gesture-handler';\nimport * as Linking from 'expo-linking';\n\nimport {\n  ImageBackground,\n  Text,\n  View,\n  Alert,\n  FlatList,\n  Share,\n  Platform\n} from 'react-native';\n\nimport BannerImg from '../../assets/banner.png';\n\nimport { styles } from './styles';\nimport { theme } from '../../global/styles/theme';\n\nimport { AppointmentProps } from '../../components/Appointment';\nimport { ListDivider } from '../../components/ListDivider';\nimport { Background } from '../../components/Background';\nimport { ListHeader } from '../../components/ListHeader';\nimport { ButtonIcon } from '../../components/ButtonIcon';\nimport { Member, MemberProps } from '../../components/Member';\nimport { Header } from '../../components/Header';\nimport { Load } from '../../components/Load';\n\ntype Params = {\n  guildSelected: AppointmentProps\n}\n\ntype GuildWidget = {\n  id: string;\n  name: string;\n  instant_invite: string;\n  members: MemberProps[];  \n}\n\nexport function AppointmentDetails(){\n  const [widget, setWidget] = useState<GuildWidget>({} as GuildWidget);\n  const [loading, setLoading] = useState(true);\n\n  const route = useRoute();\n  const { guildSelected } = route.params as Params;\n\n  function handleShareInvitation() {\n    const message = Platform.OS === 'ios' \n    ? `Junte-se a ${guildSelected.guild.name}`\n    : widget.instant_invite;\n\n    Share.share({\n      message,\n      url: widget.instant_invite\n    });    \n  }\n\n  function handleOpenGuild(){\n    Linking.openURL(widget.instant_invite);\n  }\n\n  useEffect(() => {\n    fetchGuildWidget();\n  },[]);\n  return (\n    <Background>\n      <Header \n        title=\"Detalhes\"\n        action={\n          guildSelected.guild.owner &&\n          <BorderlessButton onPress={handleShareInvitation}>\n            <Fontisto \n              name=\"share\"\n              size={24}\n              color={theme.colors.primary}\n            />\n          </BorderlessButton>\n        }\n      />\n\n      <ImageBackground \n        source={BannerImg}\n        style={styles.banner}\n      >\n        <View style={styles.bannerContent}>\n          <Text style={styles.title}> \n            { guildSelected.guild.name }\n          </Text>\n\n          <Text style={styles.subtitle}>\n            { guildSelected.description }\n          </Text>\n        </View>\n      </ImageBackground>\n\n      {\n        loading ? <Load /> :\n        <>\n          <ListHeader \n            title=\"Jogadores\"\n            subtitle={`Total ${widget.members.length}`}\n          />\n\n          <FlatList \n            data={widget.members}\n            keyExtractor={item => item.id}\n            renderItem={({ item }) => (\n              <Member data={item} />\n            )}\n            ItemSeparatorComponent={() => <ListDivider isCentered />}\n            style={styles.members}\n          />\n        </>\n      }\n\n      {\n         guildSelected.guild.owner &&\n        <View style={styles.footer}>\n          <ButtonIcon \n            title=\"Entrar na partida\" \n            onPress={handleOpenGuild}\n          />\n        </View>\n      }\n    </Background>\n  );\n}"]},"metadata":{},"sourceType":"module"}